(()=>{"use strict";function e(){const e=document.getElementsByTagName("img");console.log(e);let t="";for(let n=0;n<e.length;n++)e[n].id="img"+n,t+=`<img src=${e[n].src} id="${e[n].id}"></img>`;chrome.runtime.sendMessage({type:"getImages",ammt:e.length,elements:t})}function t(e){window.location.href.includes("#img")?window.location.href=window.location.href.slice(0,window.location.href.indexOf("#img"))+"#"+e:window.location.href+="#"+e}chrome.tabs.query({active:!0},(t=>{chrome.scripting.executeScript({target:{tabId:t[0].id?t[0].id:-1},func:e},(()=>{chrome.runtime.lastError&&console.log(chrome.runtime.lastError)}))})),chrome.runtime.onMessage.addListener(((e,n)=>{if("getImages"===e.type){const n=e.elements,i=e.ammt;console.log(n),document.getElementById("ammt").textContent=`${i} images found`,document.getElementById("images").innerHTML=n,document.getElementById("images").addEventListener("click",(e=>{chrome.tabs.query({active:!0},(n=>{chrome.scripting.executeScript({target:{tabId:n[0].id?n[0].id:-1},func:t,args:[e.target.id]})}))}))}}))})();